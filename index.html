<!DOCTYPE html>

<html>
    <head>
        <title>My awesome rock paper scissors game</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="reset.css">
    </head>

    <body>
        <div class="top">
            
            <h1 class = "ComicSans">Welcome to rock paper scissors!</h1>
            <h2 class = "ComicSans">By: Michael Duboc</h2>
            
        </div>

        <div class="containers">
            <div class = "left_container">
                <div class="inner">
                    <div class = "innermost_container">
                        <img class = "images" src="rock.jpg" alt="Rock">
                        <img class = "images" src="paper.jpg" alt="Paper">
                        <img class = "images" src="scissors.jpg" alt="Scissors">
                    </div>
                    <h2 class="ComicSans">Player!</h2>
                </div>
                
                
            </div>

            <div class="right_container">
                <div class="inner">
                    <div class="innermost_container">
                        <img class="images" src="rock.jpg" alt="Rock!">
                        <img class="images" src="paper.jpg" alt="Paper!">
                        <img class="images" src="scissors.jpg" alt="Scissors!">
                    </div>
                    <h2 class="ComicSans">Computer!</h2>
                </div>    
            </div>
        </div>


        <div class = "bottom">
            <div class = "center_div">
                <h3></h3>
            </div>
        </div>
    </body>




    <script>

        function computerPlay()
        {
            var decisions = ["Rock" , "Paper", "Scissors"];
            let randIndex = Math.floor(Math.random() * 3);
            return decisions[randIndex];
        }
        function playRound(playerDecision, compDecision)
        {
            if(playerDecision == "Rock" && compDecision == "Scissors")
            {
                return "player wins!";
            }
            else if(compDecision == "Rock" && playerDecision == "Scissors")
            {
                return "computer wins!";
            }
            else if(playerDecision == "Scissors" && compDecision == "Paper")
            {
                return "player wins!";
            }
            else if(compDecision == "Scissors" && playerDecision == "Paper")
            {
                return "computer wins!";
            }
            else if(playerDecision == "Paper" && compDecision == "Rock")
            {
                return "player wins!";
            }
            else if(compDecision == "Paper" && playerDecision == "Rock")
            {
                return "computer wins!";
            }
            else
            {
                return "DRAW!";
            }
        }

        

        //Get all images that the player can click on and add event listeners to them.
        const images = document.querySelectorAll("div.left_container > div.inner > div.innermost_container > img.images");
        const counter_text = document.createElement("h2");
        const bottom = document.querySelector("div.center_div > h3");
        var playerWins = 0, computerWins = 0;
        counter_text.textContent = "Player wins: " + playerWins + ", Computer wins: " + computerWins;

        counter_text.style.textAlign = "right";
        counter_text.style.paddingRight = "2vw";
        counter_text.style.paddingBottom = "1vw";
        bottom.style.textAlign = "center";
        bottom.style.backgroundColor = "purple";

        const parent = document.querySelector(".top");

       

        parent.appendChild(counter_text);

        images.forEach(image => 
        {
            image.addEventListener('click', (img) => 
            {
                let player_decision = img.srcElement.alt;
                let computer = computerPlay();
                
                winner = playRound(player_decision, computer);

                if(winner === "player wins!") playerWins++;
                else if(winner === "computer wins!") computerWins++;
                counter_text.textContent = "Player wins: " + playerWins + ", Computer wins: " + computerWins;

                bottom.textContent = winner.toUpperCase();
            });
        });


        


    </script>

</html>